{
  "swagger": "2.0",
  "info": {
    "title": "Tingly Box API",
    "description": "A Restful API for tingly-box with automatic Swagger documentation generation.",
    "contact": {
      "name": "API Support",
      "email": "ops@tingly.dev"
    },
    "license": {
      "name": "Mozilla Public License\nVersion 2.0",
      "url": "https://www.mozilla.org/en-US/MPL/2.0/"
    },
    "version": "1.0.0"
  },
  "host": "localhost:12580",
  "basePath": "/",
  "schemes": [
    "http",
    "https"
  ],
  "paths": {
    "/api/v1/history": {
      "get": {
        "tags": [
          "history"
        ],
        "summary": "Get request history",
        "description": "Get request history",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/HistoryResponse"
            }
          }
        }
      }
    },
    "/api/v1/info/config": {
      "get": {
        "tags": [
          "info"
        ],
        "summary": "Get config info about this application",
        "description": "Get config info about this application",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ConfigInfoResponse"
            }
          }
        }
      }
    },
    "/api/v1/info/health": {
      "get": {
        "tags": [
          "info"
        ],
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/HealthInfoResponse"
            }
          }
        }
      }
    },
    "/api/v1/info/version": {
      "get": {
        "tags": [
          "info"
        ],
        "summary": "Get version info about this application",
        "description": "Get version info about this application",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/VersionInfoResponse"
            }
          }
        }
      }
    },
    "/api/v1/log": {
      "get": {
        "tags": [
          "logs"
        ],
        "summary": "Get logs with optional filtering",
        "description": "Get logs with optional filtering",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/LogsResponse"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "logs"
        ],
        "summary": "Clear all logs",
        "description": "Clear all logs",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v1/log/stats": {
      "get": {
        "tags": [
          "logs"
        ],
        "summary": "Get log statistics",
        "description": "Get log statistics",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v1/oauth/authorize": {
      "post": {
        "tags": [
          "oauth"
        ],
        "summary": "Initiate OAuth authorization flow",
        "description": "Initiate OAuth authorization flow",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/OAuthAuthorizeRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/OAuthAuthorizeResponse"
            }
          }
        }
      }
    },
    "/api/v1/oauth/refresh": {
      "post": {
        "tags": [
          "oauth"
        ],
        "summary": "Refresh OAuth token using refresh token",
        "description": "Refresh OAuth token using refresh token",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/OAuthRefreshTokenRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/OAuthRefreshTokenResponse"
            }
          }
        }
      }
    },
    "/api/v1/oauth/status": {
      "get": {
        "tags": [
          "oauth"
        ],
        "summary": "Get OAuth session status",
        "description": "Get OAuth session status",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "query",
            "description": "session id to check oauth status",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/OAuthSessionStatusResponse"
            }
          }
        }
      }
    },
    "/api/v1/oauth/token": {
      "get": {
        "tags": [
          "oauth"
        ],
        "summary": "Get OAuth token for a user and provider",
        "description": "Get OAuth token for a user and provider",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/OAuthTokenResponse"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "oauth"
        ],
        "summary": "Revoke OAuth token for a user and provider",
        "description": "Revoke OAuth token for a user and provider",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/OAuthMessageResponse"
            }
          }
        }
      }
    },
    "/api/v1/oauth/tokens": {
      "get": {
        "tags": [
          "oauth"
        ],
        "summary": "List all OAuth tokens for a user",
        "description": "List all OAuth tokens for a user",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/OAuthTokensResponse"
            }
          }
        }
      }
    },
    "/api/v1/probe": {
      "post": {
        "tags": [
          "testing"
        ],
        "summary": "Test a rule configuration by sending a sample request",
        "description": "Test a rule configuration by sending a sample request",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProbeRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProbeResponse"
            }
          }
        }
      }
    },
    "/api/v1/probe/model": {
      "post": {
        "tags": [
          "testing"
        ],
        "summary": "Test a model forwarding by sending a sample request",
        "description": "Test a model forwarding by sending a sample request",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProbeRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProbeResponse"
            }
          }
        }
      }
    },
    "/api/v1/probe/provider": {
      "post": {
        "tags": [
          "testing"
        ],
        "summary": "Test api key for the provider",
        "description": "Test api key for the provider",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProbeProviderRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProbeProviderResponse"
            }
          }
        }
      }
    },
    "/api/v1/provider-models/{uuid}": {
      "get": {
        "tags": [
          "models"
        ],
        "summary": "Get all provider models",
        "description": "Get all provider models",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProviderModelsResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "models"
        ],
        "summary": "Fetch models for a specific provider",
        "description": "Fetch models for a specific provider",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProviderModelsResponse"
            }
          }
        }
      }
    },
    "/api/v1/rule": {
      "post": {
        "tags": [
          "rules"
        ],
        "summary": "Create or update a rule configuration",
        "description": "Create or update a rule configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateRuleRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/UpdateRuleResponse"
            }
          }
        }
      }
    },
    "/api/v1/rule/{uuid}": {
      "get": {
        "tags": [
          "rules"
        ],
        "summary": "Get specific rule by UUID",
        "description": "Get specific rule by UUID",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/RuleResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "rules"
        ],
        "summary": "Create or update a rule configuration",
        "description": "Create or update a rule configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateRuleRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/UpdateRuleResponse"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "rules"
        ],
        "summary": "Delete a rule configuration",
        "description": "Delete a rule configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/DeleteRuleResponse"
            }
          }
        }
      }
    },
    "/api/v1/rules": {
      "get": {
        "tags": [
          "rules"
        ],
        "summary": "Get all configured rules",
        "description": "Get all configured rules",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "scenario",
            "in": "query",
            "description": "Filter by scenario",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/RulesResponse"
            }
          }
        }
      }
    },
    "/api/v1/scenario/{scenario}": {
      "get": {
        "tags": [
          "scenarios"
        ],
        "summary": "Get configuration for a specific scenario",
        "description": "Get configuration for a specific scenario",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "scenario",
            "in": "path",
            "description": "Path parameter 'scenario'",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ScenarioResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "scenarios"
        ],
        "summary": "Create or update scenario configuration",
        "description": "Create or update scenario configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "scenario",
            "in": "path",
            "description": "Path parameter 'scenario'",
            "required": true,
            "type": "string"
          },
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ScenarioUpdateRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ScenarioUpdateResponse"
            }
          }
        }
      }
    },
    "/api/v1/scenario/{scenario}/flag/{flag}": {
      "get": {
        "tags": [
          "scenarios"
        ],
        "summary": "Get a specific flag value for a scenario",
        "description": "Get a specific flag value for a scenario",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "scenario",
            "in": "path",
            "description": "Path parameter 'scenario'",
            "required": true,
            "type": "string"
          },
          {
            "name": "flag",
            "in": "path",
            "description": "Path parameter 'flag'",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ScenarioFlagResponse"
            }
          }
        }
      },
      "put": {
        "tags": [
          "scenarios"
        ],
        "summary": "Set a specific flag value for a scenario",
        "description": "Set a specific flag value for a scenario",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "scenario",
            "in": "path",
            "description": "Path parameter 'scenario'",
            "required": true,
            "type": "string"
          },
          {
            "name": "flag",
            "in": "path",
            "description": "Path parameter 'flag'",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ScenarioFlagResponse"
            }
          }
        }
      }
    },
    "/api/v1/scenarios": {
      "get": {
        "tags": [
          "scenarios"
        ],
        "summary": "Get all scenario configurations",
        "description": "Get all scenario configurations",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ScenariosResponse"
            }
          }
        }
      }
    },
    "/api/v1/server/restart": {
      "post": {
        "tags": [
          "server"
        ],
        "summary": "Restart the server",
        "description": "Restart the server",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ServerActionResponse"
            }
          }
        }
      }
    },
    "/api/v1/server/start": {
      "post": {
        "tags": [
          "server"
        ],
        "summary": "Start the server",
        "description": "Start the server",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ServerActionResponse"
            }
          }
        }
      }
    },
    "/api/v1/server/stop": {
      "post": {
        "tags": [
          "server"
        ],
        "summary": "Stop the server gracefully",
        "description": "Stop the server gracefully",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ServerActionResponse"
            }
          }
        }
      }
    },
    "/api/v1/status": {
      "get": {
        "tags": [
          "server"
        ],
        "summary": "Get server status and statistics",
        "description": "Get server status and statistics",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/StatusResponse"
            }
          }
        }
      }
    },
    "/api/v1/token": {
      "get": {
        "tags": [
          "token"
        ],
        "summary": "Get existing API token or generate new one",
        "description": "Get existing API token or generate new one",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/TokenResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "token"
        ],
        "summary": "Generate a new API token",
        "description": "Generate a new API token",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GenerateTokenRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/TokenResponse"
            }
          }
        }
      }
    },
    "/api/v1/usage/records": {
      "get": {
        "tags": [
          "usage"
        ],
        "summary": "Returns individual usage records (for debugging/audit)",
        "description": "Returns individual usage records (for debugging/audit)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "start_time",
            "in": "query",
            "description": "ISO 8601 start time",
            "required": false,
            "type": "string"
          },
          {
            "name": "end_time",
            "in": "query",
            "description": "ISO 8601 end time",
            "required": false,
            "type": "string"
          },
          {
            "name": "provider",
            "in": "query",
            "description": "Filter by provider UUID",
            "required": false,
            "type": "string"
          },
          {
            "name": "model",
            "in": "query",
            "description": "Filter by model name",
            "required": false,
            "type": "string"
          },
          {
            "name": "scenario",
            "in": "query",
            "description": "Filter by scenario",
            "required": false,
            "type": "string"
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status",
            "required": false,
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Max results (max 1000)",
            "required": false,
            "type": "integer",
            "default": 50,
            "maximum": 1000,
            "minimum": 1
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Pagination offset",
            "required": false,
            "type": "integer",
            "default": 0,
            "minimum": 0
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/UsageRecordsResponse"
            }
          },
          "503": {
            "description": "Usage store not available",
            "schema": {
              "type": "object"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "usage"
        ],
        "summary": "Deletes usage records older than the specified number of days",
        "description": "Deletes usage records older than the specified number of days",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteOldRecordsRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/DeleteOldRecordsResponse"
            }
          },
          "400": {
            "description": "Invalid request",
            "schema": {
              "type": "object"
            }
          },
          "503": {
            "description": "Usage store not available",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v1/usage/stats": {
      "get": {
        "tags": [
          "usage"
        ],
        "summary": "Returns aggregated usage statistics with flexible grouping and filtering",
        "description": "Returns aggregated usage statistics with flexible grouping and filtering",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "group_by",
            "in": "query",
            "description": "Aggregation level: model, provider, scenario, rule, daily, hourly",
            "required": false,
            "type": "string",
            "default": "model",
            "enum": [
              "model",
              "provider",
              "scenario",
              "rule",
              "daily",
              "hourly"
            ]
          },
          {
            "name": "start_time",
            "in": "query",
            "description": "ISO 8601 start time",
            "required": false,
            "type": "string"
          },
          {
            "name": "end_time",
            "in": "query",
            "description": "ISO 8601 end time",
            "required": false,
            "type": "string"
          },
          {
            "name": "provider",
            "in": "query",
            "description": "Filter by provider UUID",
            "required": false,
            "type": "string"
          },
          {
            "name": "model",
            "in": "query",
            "description": "Filter by model name",
            "required": false,
            "type": "string"
          },
          {
            "name": "scenario",
            "in": "query",
            "description": "Filter by scenario",
            "required": false,
            "type": "string"
          },
          {
            "name": "rule_uuid",
            "in": "query",
            "description": "Filter by rule UUID",
            "required": false,
            "type": "string"
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status: success, error, partial",
            "required": false,
            "type": "string",
            "default": "success",
            "enum": [
              "success",
              "error",
              "partial"
            ]
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Max results to return",
            "required": false,
            "type": "integer",
            "default": 100,
            "maximum": 1000,
            "minimum": 1
          },
          {
            "name": "sort_by",
            "in": "query",
            "description": "Sort field: total_tokens, request_count, avg_latency",
            "required": false,
            "type": "string",
            "default": "total_tokens",
            "enum": [
              "total_tokens",
              "request_count",
              "avg_latency"
            ]
          },
          {
            "name": "sort_order",
            "in": "query",
            "description": "asc or desc",
            "required": false,
            "type": "string",
            "default": "desc",
            "enum": [
              "asc",
              "desc"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/UsageStatsResponse"
            }
          },
          "503": {
            "description": "Usage store not available",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v1/usage/timeseries": {
      "get": {
        "tags": [
          "usage"
        ],
        "summary": "Returns time-series data for usage with configurable intervals",
        "description": "Returns time-series data for usage with configurable intervals",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "interval",
            "in": "query",
            "description": "Time bucket: minute, hour, day, week",
            "required": false,
            "type": "string",
            "default": "hour",
            "enum": [
              "minute",
              "hour",
              "day",
              "week"
            ]
          },
          {
            "name": "start_time",
            "in": "query",
            "description": "ISO 8601 start time",
            "required": false,
            "type": "string"
          },
          {
            "name": "end_time",
            "in": "query",
            "description": "ISO 8601 end time",
            "required": false,
            "type": "string"
          },
          {
            "name": "provider",
            "in": "query",
            "description": "Filter by provider UUID",
            "required": false,
            "type": "string"
          },
          {
            "name": "model",
            "in": "query",
            "description": "Filter by model name",
            "required": false,
            "type": "string"
          },
          {
            "name": "scenario",
            "in": "query",
            "description": "Filter by scenario",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/TimeSeriesResponse"
            }
          },
          "503": {
            "description": "Usage store not available",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v2/provider-templates": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get all provider templates",
        "description": "Get all provider templates",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/TemplateResponse"
            }
          }
        }
      }
    },
    "/api/v2/provider-templates/refresh": {
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Refresh provider templates from GitHub",
        "description": "Refresh provider templates from GitHub",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v2/provider-templates/version": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get current provider template registry version",
        "description": "Get current provider template registry version",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v2/provider-templates/{id}": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get a specific provider template by ID",
        "description": "Get a specific provider template by ID",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Resource ID",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/api/v2/providers": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get all configured providers with masked tokens",
        "description": "Get all configured providers with masked tokens",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProvidersResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Create a new provider configuration",
        "description": "Create a new provider configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateProviderRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/CreateProviderResponse"
            }
          }
        }
      }
    },
    "/api/v2/providers/{uuid}": {
      "get": {
        "tags": [
          "providers"
        ],
        "summary": "Get specific provider details with masked token",
        "description": "Get specific provider details with masked token",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ProviderResponse"
            }
          }
        }
      },
      "put": {
        "tags": [
          "providers"
        ],
        "summary": "Update existing provider configuration",
        "description": "Update existing provider configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          },
          {
            "name": "request",
            "in": "body",
            "description": "Request body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateProviderRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/UpdateProviderResponse"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "providers"
        ],
        "summary": "Delete a provider configuration",
        "description": "Delete a provider configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/DeleteProviderResponse"
            }
          }
        }
      }
    },
    "/api/v2/providers/{uuid}/toggle": {
      "post": {
        "tags": [
          "providers"
        ],
        "summary": "Toggle provider enabled/disabled status",
        "description": "Toggle provider enabled/disabled status",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "description": "Unique identifier (UUID)",
            "required": true,
            "type": "string",
            "format": "uuid"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "schema": {
              "$ref": "#/definitions/ToggleProviderResponse"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "AggregatedStat": {
      "type": "object",
      "properties": {
        "avg_input_tokens": {
          "type": "number",
          "format": "double",
          "description": "Field avg_input_tokens",
          "example": 230.6
        },
        "avg_latency_ms": {
          "type": "number",
          "format": "double",
          "description": "Field avg_latency_ms",
          "example": 1250
        },
        "avg_output_tokens": {
          "type": "number",
          "format": "double",
          "description": "Field avg_output_tokens",
          "example": 164.2
        },
        "error_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field error_count",
          "example": 12
        },
        "error_rate": {
          "type": "number",
          "format": "double",
          "description": "Field error_rate",
          "example": 0.0022
        },
        "key": {
          "type": "string",
          "description": "Field key",
          "example": "gpt-4"
        },
        "model": {
          "type": "string",
          "description": "Field model",
          "example": "gpt-4"
        },
        "provider_name": {
          "type": "string",
          "description": "Field provider_name",
          "example": "openai"
        },
        "provider_uuid": {
          "type": "string",
          "description": "Field provider_uuid",
          "example": "uuid-123"
        },
        "request_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field request_count",
          "example": 5420
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario",
          "example": "openai"
        },
        "streamed_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field streamed_count",
          "example": 4800
        },
        "streamed_rate": {
          "type": "number",
          "format": "double",
          "description": "Field streamed_rate",
          "example": 0.885
        },
        "total_input_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_input_tokens",
          "example": 1250000
        },
        "total_output_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_output_tokens",
          "example": 890000
        },
        "total_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_tokens",
          "example": 2140000
        }
      },
      "required": [
        "key",
        "request_count",
        "total_tokens",
        "total_input_tokens",
        "total_output_tokens",
        "avg_input_tokens",
        "avg_output_tokens",
        "avg_latency_ms",
        "error_count",
        "error_rate",
        "streamed_count",
        "streamed_rate"
      ]
    },
    "ConfigInfo": {
      "type": "object",
      "properties": {
        "config_dir": {
          "type": "string",
          "description": "Field config_dir",
          "example": "/Users/user/.tingly-box"
        },
        "config_path": {
          "type": "string",
          "description": "Field config_path",
          "example": "/Users/user/.tingly-box/config.json"
        }
      },
      "required": [
        "config_path",
        "config_dir"
      ]
    },
    "ConfigInfoResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ConfigInfo"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "CreateProviderRequest": {
      "type": "object",
      "properties": {
        "api_base": {
          "type": "string",
          "description": "API base URL",
          "example": "https://api.openai.com/v1"
        },
        "api_style": {
          "type": "string",
          "description": "API style",
          "example": "openai"
        },
        "enabled": {
          "type": "boolean",
          "description": "Whether provider is enabled",
          "example": true
        },
        "name": {
          "type": "string",
          "description": "Provider name",
          "example": "openai"
        },
        "no_key_required": {
          "type": "boolean",
          "description": "Whether provider requires no API key",
          "example": false
        },
        "proxy_url": {
          "type": "string",
          "description": "HTTP or SOCKS proxy URL (e.g., http://127.0.0.1:7890 or socks5://127.0.0.1:1080)",
          "example": "http://127.0.0.1:7890"
        },
        "token": {
          "type": "string",
          "description": "API token",
          "example": "sk-..."
        }
      },
      "required": [
        "name",
        "api_base",
        "api_style",
        "token",
        "no_key_required",
        "enabled"
      ]
    },
    "CreateProviderResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data"
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Provider added successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    },
    "CreateRuleRequest": {
      "type": "object",
      "properties": {
        "active": {
          "type": "boolean",
          "description": "Field active"
        },
        "current_service_index": {
          "type": "integer",
          "format": "int64",
          "description": "Field current_service_index"
        },
        "description": {
          "type": "string",
          "description": "Field description"
        },
        "lb_tactic": {
          "description": "Field lb_tactic",
          "$ref": "#/definitions/Tactic"
        },
        "request_model": {
          "type": "string",
          "description": "Field request_model"
        },
        "response_model": {
          "type": "string",
          "description": "Field response_model"
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario"
        },
        "services": {
          "type": "array",
          "description": "Field services",
          "items": {
            "$ref": "#/definitions/Service"
          }
        },
        "uuid": {
          "type": "string",
          "description": "Field uuid"
        }
      },
      "required": [
        "uuid",
        "scenario",
        "request_model",
        "response_model",
        "description",
        "services",
        "current_service_index",
        "lb_tactic",
        "active"
      ]
    },
    "DeleteOldRecordsRequest": {
      "type": "object",
      "properties": {
        "older_than_days": {
          "type": "integer",
          "format": "int64",
          "description": "Delete records older than this many days",
          "minimum": 1,
          "example": 90
        }
      },
      "required": [
        "older_than_days"
      ]
    },
    "DeleteOldRecordsResponse": {
      "type": "object",
      "properties": {
        "cutoff_date": {
          "type": "string",
          "description": "Field cutoff_date",
          "example": "2024-10-13T00:00:00Z"
        },
        "deleted_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field deleted_count",
          "example": 1500
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Records deleted successfully"
        }
      },
      "required": [
        "message",
        "deleted_count",
        "cutoff_date"
      ]
    },
    "DeleteProviderResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Provider deleted successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message"
      ]
    },
    "DeleteRuleResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Rule deleted successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message"
      ]
    },
    "ErrorDetail": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "Field code"
        },
        "message": {
          "type": "string",
          "description": "Field message"
        },
        "type": {
          "type": "string",
          "description": "Field type"
        }
      },
      "required": [
        "message",
        "type"
      ]
    },
    "GenerateTokenRequest": {
      "type": "object",
      "properties": {
        "client_id": {
          "type": "string",
          "description": "Client ID for token generation",
          "example": "user123"
        }
      },
      "required": [
        "client_id"
      ]
    },
    "HealthInfoResponse": {
      "type": "object",
      "properties": {
        "health": {
          "type": "boolean",
          "description": "Field health",
          "example": false
        },
        "service": {
          "type": "string",
          "description": "Field service",
          "example": "tingly-box"
        },
        "status": {
          "type": "string",
          "description": "Field status",
          "example": "healthy"
        }
      },
      "required": [
        "status",
        "service",
        "health"
      ]
    },
    "HistoryResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "LogEntry": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "additionalProperties": {
            "type": "object"
          }
        },
        "fields": {
          "type": "object",
          "description": "Field fields",
          "additionalProperties": {
            "type": "object"
          }
        },
        "level": {
          "type": "string",
          "description": "Field level"
        },
        "message": {
          "type": "string",
          "description": "Field message"
        },
        "time": {
          "type": "string",
          "format": "date-time",
          "description": "Field time"
        }
      },
      "required": [
        "time",
        "level",
        "message"
      ]
    },
    "LogsResponse": {
      "type": "object",
      "properties": {
        "logs": {
          "type": "array",
          "description": "Field logs",
          "items": {
            "$ref": "#/definitions/LogEntry"
          }
        },
        "total": {
          "type": "integer",
          "format": "int64",
          "description": "Field total"
        }
      },
      "required": [
        "total",
        "logs"
      ]
    },
    "OAuthAuthorizeRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Custom name for the provider (optional, auto-generated if empty)",
          "example": "my-claude-account"
        },
        "provider": {
          "type": "string",
          "description": "OAuth provider type",
          "example": "anthropic"
        },
        "redirect": {
          "type": "string",
          "description": "URL to redirect after OAuth completion",
          "example": "http://localhost:3000/callback"
        },
        "response_type": {
          "type": "string",
          "description": "Response type: 'redirect' or 'json'",
          "example": "json"
        },
        "user_id": {
          "type": "string",
          "description": "User ID for the OAuth flow",
          "example": "user123"
        }
      },
      "required": [
        "provider",
        "user_id",
        "redirect",
        "response_type",
        "name"
      ]
    },
    "OAuthAuthorizeResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "auth_url": {
              "type": "string",
              "description": "Field auth_url"
            },
            "device_code": {
              "type": "string",
              "description": "Field device_code"
            },
            "expires_in": {
              "type": "integer",
              "format": "int64",
              "description": "Field expires_in"
            },
            "interval": {
              "type": "integer",
              "format": "int64",
              "description": "Field interval"
            },
            "provider": {
              "type": "string",
              "description": "Field provider"
            },
            "session_id": {
              "type": "string",
              "description": "Field session_id"
            },
            "state": {
              "type": "string",
              "description": "Field state"
            },
            "user_code": {
              "type": "string",
              "description": "Field user_code"
            },
            "verification_uri": {
              "type": "string",
              "description": "Field verification_uri"
            },
            "verification_uri_complete": {
              "type": "string",
              "description": "Field verification_uri_complete"
            }
          }
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Authorization initiated"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "OAuthDetail": {
      "type": "object",
      "properties": {
        "access_token": {
          "type": "string",
          "description": "Field access_token"
        },
        "expires_at": {
          "type": "string",
          "description": "Field expires_at"
        },
        "extra_fields": {
          "type": "object",
          "description": "Field extra_fields",
          "additionalProperties": {
            "type": "object"
          }
        },
        "provider_type": {
          "type": "string",
          "description": "Field provider_type"
        },
        "refresh_token": {
          "type": "string",
          "description": "Field refresh_token"
        },
        "user_id": {
          "type": "string",
          "description": "Field user_id"
        }
      },
      "required": [
        "access_token",
        "provider_type",
        "user_id",
        "refresh_token",
        "expires_at",
        "extra_fields"
      ]
    },
    "OAuthMessageResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Operation successful"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message"
      ]
    },
    "OAuthRefreshTokenRequest": {
      "type": "object",
      "properties": {
        "provider_uuid": {
          "type": "string",
          "description": "Provider UUID to refresh token for",
          "example": "550e8400-e29b-41d4-a716-446655440000"
        }
      },
      "required": [
        "provider_uuid"
      ]
    },
    "OAuthRefreshTokenResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "access_token": {
              "type": "string",
              "description": "Field access_token"
            },
            "expires_at": {
              "type": "string",
              "description": "Field expires_at"
            },
            "provider_type": {
              "type": "string",
              "description": "Field provider_type"
            },
            "provider_uuid": {
              "type": "string",
              "description": "Field provider_uuid"
            },
            "refresh_token": {
              "type": "string",
              "description": "Field refresh_token"
            },
            "token_type": {
              "type": "string",
              "description": "Field token_type"
            }
          },
          "required": [
            "provider_uuid",
            "access_token",
            "token_type",
            "provider_type"
          ]
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Token refreshed successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "OAuthSessionStatusResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "error": {
              "type": "string",
              "description": "Field error"
            },
            "provider_uuid": {
              "type": "string",
              "description": "Field provider_uuid"
            },
            "session_id": {
              "type": "string",
              "description": "Field session_id"
            },
            "status": {
              "type": "string",
              "description": "Field status"
            }
          },
          "required": [
            "session_id",
            "status"
          ]
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "OAuthTokenResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "access_token": {
              "type": "string",
              "description": "Field access_token"
            },
            "expires_at": {
              "type": "string",
              "description": "Field expires_at"
            },
            "provider": {
              "type": "string",
              "description": "Field provider"
            },
            "refresh_token": {
              "type": "string",
              "description": "Field refresh_token"
            },
            "token_type": {
              "type": "string",
              "description": "Field token_type"
            },
            "valid": {
              "type": "boolean",
              "description": "Field valid"
            }
          },
          "required": [
            "access_token",
            "token_type",
            "provider",
            "valid"
          ]
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "OAuthTokensResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "description": "Field data",
          "items": {
            "$ref": "#/definitions/TokenInfo"
          }
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "ProbeProviderRequest": {
      "type": "object",
      "properties": {
        "api_base": {
          "type": "string",
          "description": "API base URL",
          "example": "https://api.openai.com/v1"
        },
        "api_style": {
          "type": "string",
          "description": "API style",
          "enum": [
            "openai",
            "anthropic"
          ],
          "example": "openai"
        },
        "name": {
          "type": "string",
          "description": "Provider name",
          "example": "openai"
        },
        "token": {
          "type": "string",
          "description": "API token to test",
          "example": "sk-..."
        }
      },
      "required": [
        "name",
        "api_base",
        "api_style",
        "token"
      ]
    },
    "ProbeProviderResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ProbeProviderResponseData"
        },
        "error": {
          "description": "Field error",
          "$ref": "#/definitions/ErrorDetail"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success"
      ]
    },
    "ProbeProviderResponseData": {
      "type": "object",
      "properties": {
        "api_base": {
          "type": "string",
          "description": "Field api_base",
          "example": "https://api.openai.com/v1"
        },
        "api_style": {
          "type": "string",
          "description": "Field api_style",
          "example": "openai"
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "API key is valid and accessible"
        },
        "models_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field models_count",
          "example": 150
        },
        "provider": {
          "type": "string",
          "description": "Field provider",
          "example": "openai"
        },
        "response_time_ms": {
          "type": "integer",
          "format": "int64",
          "description": "Field response_time_ms",
          "example": 250
        },
        "test_result": {
          "type": "string",
          "description": "Field test_result",
          "example": "models_endpoint_success"
        },
        "valid": {
          "type": "boolean",
          "description": "Field valid",
          "example": true
        }
      },
      "required": [
        "provider",
        "api_base",
        "api_style",
        "valid",
        "message",
        "test_result",
        "response_time_ms"
      ]
    },
    "ProbeRequest": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string",
          "description": "Model name to test against",
          "example": "gpt-4-latest"
        },
        "provider": {
          "type": "string",
          "description": "Provider name to test against",
          "example": "openai"
        }
      },
      "required": [
        "provider",
        "model"
      ]
    },
    "ProbeRequestDetail": {
      "type": "object",
      "properties": {
        "max_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field max_tokens"
        },
        "messages": {
          "type": "array",
          "description": "Field messages",
          "items": {}
        },
        "model": {
          "type": "string",
          "description": "Field model"
        },
        "provider": {
          "type": "string",
          "description": "Field provider"
        },
        "temperature": {
          "type": "number",
          "format": "double",
          "description": "Field temperature"
        },
        "timestamp": {
          "type": "string",
          "description": "Field timestamp"
        }
      },
      "required": [
        "messages",
        "model",
        "max_tokens",
        "temperature",
        "provider",
        "timestamp"
      ]
    },
    "ProbeResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ProbeResponseData"
        },
        "error": {
          "description": "Field error",
          "$ref": "#/definitions/ErrorDetail"
        },
        "success": {
          "type": "boolean",
          "description": "Field success"
        }
      },
      "required": [
        "success"
      ]
    },
    "ProbeResponseData": {
      "type": "object",
      "properties": {
        "curl_command": {
          "type": "string",
          "description": "Field curl_command"
        },
        "request": {
          "description": "Field request",
          "$ref": "#/definitions/ProbeRequestDetail"
        },
        "response": {
          "description": "Field response",
          "$ref": "#/definitions/ProbeResponseDetail"
        },
        "usage": {
          "description": "Field usage",
          "$ref": "#/definitions/ProbeUsage"
        }
      },
      "required": [
        "request",
        "response",
        "usage"
      ]
    },
    "ProbeResponseDetail": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string",
          "description": "Field content"
        },
        "error": {
          "type": "string",
          "description": "Field error"
        },
        "finish_reason": {
          "type": "string",
          "description": "Field finish_reason"
        },
        "model": {
          "type": "string",
          "description": "Field model"
        },
        "provider": {
          "type": "string",
          "description": "Field provider"
        }
      },
      "required": [
        "content",
        "model",
        "provider",
        "finish_reason"
      ]
    },
    "ProbeUsage": {
      "type": "object",
      "properties": {
        "completion_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field completion_tokens"
        },
        "prompt_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field prompt_tokens"
        },
        "time_cost": {
          "type": "integer",
          "format": "int64",
          "description": "Field time_cost"
        },
        "total_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_tokens"
        }
      },
      "required": [
        "prompt_tokens",
        "completion_tokens",
        "total_tokens",
        "time_cost"
      ]
    },
    "ProviderModelInfo": {
      "type": "object",
      "properties": {
        "api_base": {
          "type": "string",
          "description": "Field api_base",
          "example": "https://api.openai.com/v1"
        },
        "custom_model": {
          "type": "array",
          "description": "Field custom_model",
          "items": {
            "type": "string"
          },
          "example": [
            "custom-gpt-model"
          ]
        },
        "last_updated": {
          "type": "string",
          "description": "Field last_updated",
          "example": "2024-01-15 10:30:00"
        },
        "models": {
          "type": "array",
          "description": "Field models",
          "items": {
            "type": "string"
          },
          "example": [
            "gpt-3.5-turbo",
            "gpt-4"
          ]
        },
        "star_models": {
          "type": "array",
          "description": "Field star_models",
          "items": {
            "type": "string"
          },
          "example": [
            "gpt-4"
          ]
        }
      },
      "required": [
        "models",
        "star_models",
        "custom_model",
        "api_base"
      ]
    },
    "ProviderModelsResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ProviderModelInfo"
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Provider models successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    },
    "ProviderResponse": {
      "type": "object",
      "properties": {
        "api_base": {
          "type": "string",
          "description": "Field api_base",
          "example": "https://api.openai.com/v1"
        },
        "api_style": {
          "type": "string",
          "description": "Field api_style",
          "example": "openai"
        },
        "auth_type": {
          "type": "string",
          "description": "Field auth_type",
          "example": "api_key"
        },
        "enabled": {
          "type": "boolean",
          "description": "Field enabled",
          "example": true
        },
        "name": {
          "type": "string",
          "description": "Field name",
          "example": "openai"
        },
        "no_key_required": {
          "type": "boolean",
          "description": "Field no_key_required",
          "example": false
        },
        "oauth_detail": {
          "description": "Field oauth_detail",
          "$ref": "#/definitions/OAuthDetail"
        },
        "proxy_url": {
          "type": "string",
          "description": "Field proxy_url",
          "example": "http://127.0.0.1:7890"
        },
        "token": {
          "type": "string",
          "description": "Field token",
          "example": "sk-***...***"
        },
        "uuid": {
          "type": "string",
          "description": "Field uuid",
          "example": "0123456789ABCDEF"
        }
      },
      "required": [
        "uuid",
        "name",
        "api_base",
        "api_style",
        "token",
        "no_key_required",
        "enabled"
      ]
    },
    "ProviderTemplate": {
      "type": "object",
      "properties": {
        "api_doc": {
          "type": "string",
          "description": "Field api_doc"
        },
        "auth_type": {
          "type": "string",
          "description": "Field auth_type"
        },
        "base_url_anthropic": {
          "type": "string",
          "description": "Field base_url_anthropic"
        },
        "base_url_openai": {
          "type": "string",
          "description": "Field base_url_openai"
        },
        "description": {
          "type": "string",
          "description": "Field description"
        },
        "id": {
          "type": "string",
          "description": "Field id"
        },
        "metadata": {
          "type": "object",
          "description": "Field metadata",
          "additionalProperties": {
            "type": "string"
          }
        },
        "model_doc": {
          "type": "string",
          "description": "Field model_doc"
        },
        "model_limits": {
          "type": "object",
          "description": "Field model_limits",
          "additionalProperties": {
            "type": "integer",
            "format": "int64"
          }
        },
        "models": {
          "type": "array",
          "description": "Field models",
          "items": {
            "type": "string"
          }
        },
        "name": {
          "type": "string",
          "description": "Field name"
        },
        "oauth_provider": {
          "type": "string",
          "description": "Field oauth_provider"
        },
        "pricing_doc": {
          "type": "string",
          "description": "Field pricing_doc"
        },
        "status": {
          "type": "string",
          "description": "Field status"
        },
        "supports_models_endpoint": {
          "type": "boolean",
          "description": "Field supports_models_endpoint"
        },
        "tags": {
          "type": "array",
          "description": "Field tags",
          "items": {
            "type": "string"
          }
        },
        "type": {
          "type": "string",
          "description": "Field type"
        },
        "valid": {
          "type": "boolean",
          "description": "Field valid"
        },
        "website": {
          "type": "string",
          "description": "Field website"
        }
      },
      "required": [
        "id",
        "name",
        "status",
        "valid",
        "website",
        "description",
        "type",
        "api_doc",
        "model_doc",
        "pricing_doc",
        "models",
        "supports_models_endpoint"
      ]
    },
    "ProvidersResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "description": "Field data",
          "items": {
            "$ref": "#/definitions/ProviderResponse"
          }
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "Rule": {
      "type": "object",
      "properties": {
        "active": {
          "type": "boolean",
          "description": "Field active"
        },
        "current_service_index": {
          "type": "integer",
          "format": "int64",
          "description": "Field current_service_index"
        },
        "description": {
          "type": "string",
          "description": "Field description"
        },
        "lb_tactic": {
          "description": "Field lb_tactic",
          "$ref": "#/definitions/Tactic"
        },
        "request_model": {
          "type": "string",
          "description": "Field request_model"
        },
        "response_model": {
          "type": "string",
          "description": "Field response_model"
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario"
        },
        "services": {
          "type": "array",
          "description": "Field services",
          "items": {
            "$ref": "#/definitions/Service"
          }
        },
        "uuid": {
          "type": "string",
          "description": "Field uuid"
        }
      },
      "required": [
        "uuid",
        "scenario",
        "request_model",
        "response_model",
        "description",
        "services",
        "current_service_index",
        "lb_tactic",
        "active"
      ]
    },
    "RuleResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/Rule"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "RulesResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "ScenarioConfig": {
      "type": "object",
      "properties": {
        "extensions": {
          "type": "object",
          "description": "Field extensions",
          "additionalProperties": {
            "type": "object"
          }
        },
        "flags": {
          "description": "Field flags",
          "$ref": "#/definitions/ScenarioFlags"
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario"
        }
      },
      "required": [
        "scenario",
        "flags"
      ]
    },
    "ScenarioFlagResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "flag": {
              "type": "string",
              "description": "Field flag"
            },
            "scenario": {
              "type": "string",
              "description": "Field scenario"
            },
            "value": {
              "type": "boolean",
              "description": "Field value"
            }
          },
          "required": [
            "scenario",
            "flag",
            "value"
          ]
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "ScenarioFlags": {
      "type": "object",
      "properties": {
        "separate": {
          "type": "boolean",
          "description": "Field separate"
        },
        "smart": {
          "type": "boolean",
          "description": "Field smart"
        },
        "unified": {
          "type": "boolean",
          "description": "Field unified"
        }
      },
      "required": [
        "unified",
        "separate",
        "smart"
      ]
    },
    "ScenarioResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ScenarioConfig"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "ScenarioUpdateRequest": {
      "type": "object",
      "properties": {
        "flags": {
          "description": "Field flags",
          "$ref": "#/definitions/ScenarioFlags"
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario",
          "example": "claude_code"
        }
      },
      "required": [
        "scenario",
        "flags"
      ]
    },
    "ScenarioUpdateResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ScenarioConfig"
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Scenario config saved successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    },
    "ScenariosResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "description": "Field data",
          "items": {
            "$ref": "#/definitions/ScenarioConfig"
          }
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "ServerActionResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Server stopped successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message"
      ]
    },
    "Service": {
      "type": "object",
      "properties": {
        "Stats": {
          "description": "Field Stats",
          "$ref": "#/definitions/ServiceStats"
        },
        "active": {
          "type": "boolean",
          "description": "Field active"
        },
        "model": {
          "type": "string",
          "description": "Field model"
        },
        "provider": {
          "type": "string",
          "description": "Field provider"
        },
        "time_window": {
          "type": "integer",
          "format": "int64",
          "description": "Field time_window"
        },
        "weight": {
          "type": "integer",
          "format": "int64",
          "description": "Field weight"
        }
      },
      "required": [
        "provider",
        "model",
        "weight",
        "active",
        "time_window",
        "Stats"
      ]
    },
    "ServiceStats": {
      "type": "object",
      "properties": {
        "last_used": {
          "type": "string",
          "format": "date-time",
          "description": "Field last_used"
        },
        "request_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field request_count"
        },
        "service_id": {
          "type": "string",
          "description": "Field service_id"
        },
        "time_window": {
          "type": "integer",
          "format": "int64",
          "description": "Field time_window"
        },
        "window_input_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field window_input_tokens"
        },
        "window_output_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field window_output_tokens"
        },
        "window_request_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field window_request_count"
        },
        "window_start": {
          "type": "string",
          "format": "date-time",
          "description": "Field window_start"
        },
        "window_tokens_consumed": {
          "type": "integer",
          "format": "int64",
          "description": "Field window_tokens_consumed"
        }
      },
      "required": [
        "service_id",
        "request_count",
        "last_used",
        "window_start",
        "window_request_count",
        "window_tokens_consumed",
        "window_input_tokens",
        "window_output_tokens",
        "time_window"
      ]
    },
    "StatusResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "port": {
              "type": "integer",
              "format": "int64",
              "description": "Field port"
            },
            "providers_enabled": {
              "type": "integer",
              "format": "int64",
              "description": "Field providers_enabled"
            },
            "providers_total": {
              "type": "integer",
              "format": "int64",
              "description": "Field providers_total"
            },
            "request_count": {
              "type": "integer",
              "format": "int64",
              "description": "Field request_count"
            },
            "server_running": {
              "type": "boolean",
              "description": "Field server_running"
            }
          },
          "required": [
            "server_running",
            "port",
            "providers_total",
            "providers_enabled",
            "request_count"
          ]
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "data"
      ]
    },
    "Tactic": {
      "type": "object",
      "properties": {
        "params": {
          "type": "object",
          "description": "Field params"
        },
        "type": {
          "type": "integer",
          "format": "int64",
          "description": "Field type"
        }
      },
      "required": [
        "type",
        "params"
      ]
    },
    "TemplateResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "additionalProperties": {
            "$ref": "#/definitions/ProviderTemplate"
          }
        },
        "message": {
          "type": "string",
          "description": "Field message"
        },
        "success": {
          "type": "boolean",
          "description": "Field success"
        },
        "version": {
          "type": "string",
          "description": "Field version"
        }
      },
      "required": [
        "success"
      ]
    },
    "TimeSeriesData": {
      "type": "object",
      "properties": {
        "avg_latency_ms": {
          "type": "number",
          "format": "double",
          "description": "Field avg_latency_ms",
          "example": 1100
        },
        "error_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field error_count",
          "example": 0
        },
        "input_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field input_tokens",
          "example": 32000
        },
        "output_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field output_tokens",
          "example": 20000
        },
        "request_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field request_count",
          "example": 245
        },
        "timestamp": {
          "type": "string",
          "description": "Field timestamp",
          "example": "2025-01-10T00:00:00Z"
        },
        "total_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_tokens",
          "example": 52000
        }
      },
      "required": [
        "timestamp",
        "request_count",
        "total_tokens",
        "input_tokens",
        "output_tokens",
        "error_count",
        "avg_latency_ms"
      ]
    },
    "TimeSeriesMeta": {
      "type": "object",
      "properties": {
        "end_time": {
          "type": "string",
          "description": "Field end_time",
          "example": "2025-01-11T00:00:00Z"
        },
        "interval": {
          "type": "string",
          "description": "Field interval",
          "example": "hour"
        },
        "start_time": {
          "type": "string",
          "description": "Field start_time",
          "example": "2025-01-10T00:00:00Z"
        }
      },
      "required": [
        "interval",
        "start_time",
        "end_time"
      ]
    },
    "TimeSeriesResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "description": "Field data",
          "items": {
            "$ref": "#/definitions/TimeSeriesData"
          }
        },
        "meta": {
          "description": "Field meta",
          "$ref": "#/definitions/TimeSeriesMeta"
        }
      },
      "required": [
        "meta",
        "data"
      ]
    },
    "ToggleProviderResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Field enabled"
            }
          },
          "required": [
            "enabled"
          ]
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Provider openai enabled successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    },
    "TokenInfo": {
      "type": "object",
      "properties": {
        "expires_at": {
          "type": "string",
          "description": "Field expires_at",
          "example": "2024-01-01T12:00:00Z"
        },
        "provider": {
          "type": "string",
          "description": "Field provider",
          "example": "anthropic"
        },
        "valid": {
          "type": "boolean",
          "description": "Field valid",
          "example": true
        }
      },
      "required": [
        "provider",
        "valid"
      ]
    },
    "TokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "description": "Field token",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        },
        "type": {
          "type": "string",
          "description": "Field type",
          "example": "Bearer"
        }
      },
      "required": [
        "token",
        "type"
      ]
    },
    "UpdateProviderRequest": {
      "type": "object",
      "properties": {
        "api_base": {
          "type": "string",
          "description": "New API base URL"
        },
        "api_style": {
          "type": "string",
          "description": "New API style"
        },
        "enabled": {
          "type": "boolean",
          "description": "New enabled status"
        },
        "name": {
          "type": "string",
          "description": "New provider name"
        },
        "no_key_required": {
          "type": "boolean",
          "description": "Whether provider requires no API key"
        },
        "proxy_url": {
          "type": "string",
          "description": "HTTP or SOCKS proxy URL"
        },
        "token": {
          "type": "string",
          "description": "New API token"
        }
      }
    },
    "UpdateProviderResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/ProviderResponse"
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Provider updated successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    },
    "UpdateRuleRequest": {
      "type": "object",
      "properties": {
        "active": {
          "type": "boolean",
          "description": "Field active"
        },
        "current_service_index": {
          "type": "integer",
          "format": "int64",
          "description": "Field current_service_index"
        },
        "description": {
          "type": "string",
          "description": "Field description"
        },
        "lb_tactic": {
          "description": "Field lb_tactic",
          "$ref": "#/definitions/Tactic"
        },
        "request_model": {
          "type": "string",
          "description": "Field request_model"
        },
        "response_model": {
          "type": "string",
          "description": "Field response_model"
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario"
        },
        "services": {
          "type": "array",
          "description": "Field services",
          "items": {
            "$ref": "#/definitions/Service"
          }
        },
        "uuid": {
          "type": "string",
          "description": "Field uuid"
        }
      },
      "required": [
        "uuid",
        "scenario",
        "request_model",
        "response_model",
        "description",
        "services",
        "current_service_index",
        "lb_tactic",
        "active"
      ]
    },
    "UpdateRuleResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "description": "Field data",
          "properties": {
            "active": {
              "type": "boolean",
              "description": "Field active"
            },
            "default_model": {
              "type": "string",
              "description": "Field default_model"
            },
            "provider": {
              "type": "string",
              "description": "Field provider"
            },
            "request_model": {
              "type": "string",
              "description": "Field request_model"
            },
            "response_model": {
              "type": "string",
              "description": "Field response_model"
            },
            "uuid": {
              "type": "string",
              "description": "Field uuid"
            }
          },
          "required": [
            "uuid",
            "request_model",
            "response_model",
            "provider",
            "default_model",
            "active"
          ]
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Rule saved successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    },
    "UsageRecordResponse": {
      "type": "object",
      "properties": {
        "error_code": {
          "type": "string",
          "description": "Field error_code"
        },
        "id": {
          "type": "integer",
          "format": "int64",
          "description": "Field id",
          "example": 1
        },
        "input_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field input_tokens",
          "example": 1000
        },
        "latency_ms": {
          "type": "integer",
          "format": "int64",
          "description": "Field latency_ms",
          "example": 1200
        },
        "model": {
          "type": "string",
          "description": "Field model",
          "example": "gpt-4"
        },
        "output_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field output_tokens",
          "example": 500
        },
        "provider_name": {
          "type": "string",
          "description": "Field provider_name",
          "example": "openai"
        },
        "provider_uuid": {
          "type": "string",
          "description": "Field provider_uuid",
          "example": "uuid-123"
        },
        "request_model": {
          "type": "string",
          "description": "Field request_model",
          "example": "gpt-4"
        },
        "rule_uuid": {
          "type": "string",
          "description": "Field rule_uuid",
          "example": "rule-uuid"
        },
        "scenario": {
          "type": "string",
          "description": "Field scenario",
          "example": "openai"
        },
        "status": {
          "type": "string",
          "description": "Field status",
          "example": "success"
        },
        "streamed": {
          "type": "boolean",
          "description": "Field streamed",
          "example": true
        },
        "timestamp": {
          "type": "string",
          "description": "Field timestamp",
          "example": "2025-01-10T12:00:00Z"
        },
        "total_tokens": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_tokens",
          "example": 1500
        }
      },
      "required": [
        "id",
        "provider_uuid",
        "provider_name",
        "model",
        "scenario",
        "timestamp",
        "input_tokens",
        "output_tokens",
        "total_tokens",
        "status",
        "latency_ms",
        "streamed"
      ]
    },
    "UsageRecordsMeta": {
      "type": "object",
      "properties": {
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "Field limit",
          "example": 50
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "Field offset",
          "example": 0
        },
        "total": {
          "type": "integer",
          "format": "int64",
          "description": "Field total",
          "example": 1000
        }
      },
      "required": [
        "total",
        "limit",
        "offset"
      ]
    },
    "UsageRecordsResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "description": "Field data",
          "items": {
            "$ref": "#/definitions/UsageRecordResponse"
          }
        },
        "meta": {
          "description": "Field meta",
          "$ref": "#/definitions/UsageRecordsMeta"
        }
      },
      "required": [
        "meta",
        "data"
      ]
    },
    "UsageStatsMeta": {
      "type": "object",
      "properties": {
        "end_time": {
          "type": "string",
          "description": "Field end_time",
          "example": "2025-01-11T00:00:00Z"
        },
        "group_by": {
          "type": "string",
          "description": "Field group_by",
          "example": "model"
        },
        "start_time": {
          "type": "string",
          "description": "Field start_time",
          "example": "2025-01-10T00:00:00Z"
        },
        "total_count": {
          "type": "integer",
          "format": "int64",
          "description": "Field total_count",
          "example": 10
        }
      },
      "required": [
        "start_time",
        "end_time",
        "group_by",
        "total_count"
      ]
    },
    "UsageStatsResponse": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "description": "Field data",
          "items": {
            "$ref": "#/definitions/AggregatedStat"
          }
        },
        "meta": {
          "description": "Field meta",
          "$ref": "#/definitions/UsageStatsMeta"
        }
      },
      "required": [
        "meta",
        "data"
      ]
    },
    "VersionInfo": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "description": "Field version",
          "example": "1.0.0"
        }
      },
      "required": [
        "version"
      ]
    },
    "VersionInfoResponse": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Field data",
          "$ref": "#/definitions/VersionInfo"
        },
        "message": {
          "type": "string",
          "description": "Field message",
          "example": "Provider models successfully"
        },
        "success": {
          "type": "boolean",
          "description": "Field success",
          "example": true
        }
      },
      "required": [
        "success",
        "message",
        "data"
      ]
    }
  },
  "securityDefinitions": {
    "ApiKeyAuth": {
      "type": "apiKey",
      "description": "API key authorization header",
      "name": "Authorization",
      "in": "header"
    }
  },
  "tags": [
    {
      "name": "server",
      "description": "Operations related to server"
    },
    {
      "name": "rules",
      "description": "Operations related to rules"
    },
    {
      "name": "history",
      "description": "Operations related to history"
    },
    {
      "name": "models",
      "description": "Operations related to models"
    },
    {
      "name": "testing",
      "description": "Operations related to testing"
    },
    {
      "name": "oauth",
      "description": "Operations related to oauth"
    },
    {
      "name": "usage",
      "description": "Operations related to usage"
    },
    {
      "name": "info",
      "description": "Operations related to info"
    },
    {
      "name": "logs",
      "description": "Operations related to logs"
    },
    {
      "name": "scenarios",
      "description": "Operations related to scenarios"
    },
    {
      "name": "token",
      "description": "Operations related to token"
    },
    {
      "name": "providers",
      "description": "Operations related to providers"
    }
  ]
}